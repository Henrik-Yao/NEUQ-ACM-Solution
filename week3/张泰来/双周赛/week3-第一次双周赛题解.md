#  week3-第一次双周赛题解

##  **7-1 最大子段和** 

动态规划，定义一个数组dp[i]表示以i结尾的子段和最大值

那么就有状态转移方程：dp[i] = max(dp[i - 1] + a[i],a[i])

##  **7-2 汉诺塔问题** 

完成汉诺塔的移动分三步：

(1)以C杆为中介，从A杆将1至n-1号盘移至B杆;

(2)将A杆中剩下的第n号盘移至C杆;

(3)以A杆为中介;从B杆将1至n-1号盘移至C杆。

用n >= 2时递归的方式实现以上三步，n=1时直接移动那个圆盘即可

##  **7-3 汉诺塔III** 

本题在汉诺塔原型的基础上增加只能相邻移动这一限制。

完成汉诺塔III的移动分五步：

(1)以B杆为中介，将1至n-1号盘移到C杆

(2)将第n号盘移动到B杆

(3)以B杆为中介，将1至n-1号盘移到A杆

(4)将第n号盘移动到C杆

(5)将1至n-1号盘移动到C杆

我们定义将n个盘子由A移动到C的最小步数为$C_i$

则有：$C_i = 3* C_{i-1} + 2$

通过构造等比数列并计算可得：$C_i = 3^i - 1$

##  **7-4 汉诺塔II** 

在此说明，我本题代码的时间复杂度是$O(n^2)$，可能不是最优解法。

本题我们需要考虑增加一根杆对于减少步数的贡献。

完成完成汉诺塔II的移动分五步：

(1)将1至i号盘子借助C,D两根杆移动到B杆

(2)将i+1至n-1号盘子借助C一根杆移动到D杆

(3)将第n号盘子直接移动到C杆

(4)将i+1至n-1号盘子借助A一根杆移动到C杆

(5)将将1至i号盘子借助A,D两根杆移动到B杆

我们定义将1至n号盘子借助一根杆移动到C盘的最小步数为$f[n][1]$ 

将1至n号盘子借助两根杆移动到C盘的最小步数为$f[n][2]$ 

则有递推公式$f[n][2] = min(f[n][2],2 * f[i][2] + 2 * f[n - i - 1][1] + 1)$

其中$0 < i < n$

而且由题易知：$f[n][1] = 2^n - 1$

再注意一下数据类型和数据溢出即可

##  **7-5 简单的归并** 

在合并区间时用两个变量记录每个小区间的下一个尚未被合并的元素的位置，每次比较两个变量所指向元素的大小，将小的那个放入已经完成合并的区间的末位置，并将指向他的那个变量的值+1，最后可能存在某个小区间的数尚未放入合并区间内，那么只需要将这个区间的数依次放入合并区间即可。 

##  **7-6 字符串的全排列** 

字符串排序+dfs记路径即可

##  **7-7 逆序对** 

本题我的方法是离散化+树状数组

大体思路是先把n个绝对值小于$1e9$的数离散成1 - n这n个数，添加第i个数更新后就统计它前面(包括它本身)有多少个小于等于它的数，再用i减去这个数就是以i为第二维的逆序对的个数，最后对这些数统计求和即可。记得开long long

##  **7-8 二分查找** 

这题大概是考察lower_bound这个语法，用一下就过了。













